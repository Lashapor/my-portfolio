!<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Screening System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        header p {
            opacity: 0.9;
            font-size: 1.1em;
        }
        
        .controls {
            padding: 25px 30px;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .control-group label {
            font-weight: 600;
            font-size: 0.9em;
            color: #495057;
        }
        
        select, input, button {
            padding: 10px 15px;
            border: 2px solid #dee2e6;
            border-radius: 6px;
            font-size: 1em;
        }
        
        select, input {
            background: white;
            min-width: 150px;
        }
        
        button {
            background: #28a745;
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #218838;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40,167,69,0.3);
        }
        
        .stats-bar {
            padding: 20px 30px;
            background: #e7f5ff;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-label {
            font-size: 0.9em;
            color: #495057;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #1e3c72;
        }
        
        .table-container {
            padding: 30px;
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: #1e3c72;
            color: white;
            padding: 15px 10px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
            cursor: pointer;
            user-select: none;
        }
        
        th:hover {
            background: #2a5298;
        }
        
        td {
            padding: 12px 10px;
            border-bottom: 1px solid #e9ecef;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .rank {
            font-weight: bold;
            color: #1e3c72;
        }
        
        .positive {
            color: #28a745;
            font-weight: 600;
        }
        
        .negative {
            color: #dc3545;
            font-weight: 600;
        }
        
        .score-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9em;
        }
        
        .score-high {
            background: #d4edda;
            color: #155724;
        }
        
        .score-medium {
            background: #fff3cd;
            color: #856404;
        }
        
        .score-low {
            background: #f8d7da;
            color: #721c24;
        }
        
        .vigintile {
            text-align: center;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 4px;
            background: #e9ecef;
        }
        
        .export-btn {
            background: #007bff;
            margin-left: auto;
        }
        
        .export-btn:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸš€ Crypto Screening System</h1>
            <p>Multi-period analysis with ranking, vigintiles, and composite scoring</p>
        </header>
        
        <div class="controls">
            <div class="control-group">
                <label>Lookback Period</label>
                <select id="period">
                    <option value="14">14 Days</option>
                    <option value="30" selected>30 Days</option>
                    <option value="45">45 Days</option>
                    <option value="60">60 Days</option>
                    <option value="90">2 Months (Weekly)</option>
                    <option value="120">4 Months (Weekly)</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Ranking Method</label>
                <select id="method">
                    <option value="rank">Simple Ranking</option>
                    <option value="vigintile" selected>Vigintiles (5%)</option>
                    <option value="combo">Combo Vigintiles</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Analysis Date</label>
                <input type="date" id="date" value="2026-01-15">
            </div>
            
            <button onclick="runScreen()">Run Screen</button>
            <button class="export-btn" onclick="exportData()">ðŸ“¥ Export to CSV</button>
        </div>
        
        <div class="stats-bar">
            <div class="stat-item">
                <div class="stat-label">Coins Analyzed</div>
                <div class="stat-value" id="totalCoins">847</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Avg Growth</div>
                <div class="stat-value positive" id="avgGrowth">+12.4%</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Top Performer</div>
                <div class="stat-value" id="topCoin">SOL</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Screening Method</div>
                <div class="stat-value" id="currentMethod">Vigintiles</div>
            </div>
        </div>
        
        <div class="table-container">
            <table id="dataTable">
                <thead>
                    <tr>
                        <th onclick="sortTable(0)">Rank â–¼</th>
                        <th onclick="sortTable(1)">Coin</th>
                        <th onclick="sortTable(2)">30D Growth %</th>
                        <th onclick="sortTable(3)">Volatility</th>
                        <th onclick="sortTable(4)">vs BTC</th>
                        <th onclick="sortTable(5)">Vigintile</th>
                        <th onclick="sortTable(6)">Combined Score</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Sample data generator
        const coins = ['BTC', 'ETH', 'SOL', 'BNB', 'XRP', 'ADA', 'AVAX', 'DOT', 'MATIC', 'LINK',
                       'UNI', 'ATOM', 'LTC', 'APT', 'ARB', 'OP', 'NEAR', 'FIL', 'VET', 'ICP',
                       'ALGO', 'HBAR', 'QNT', 'AAVE', 'MKR', 'SNX', 'CRV', 'COMP', 'SAND', 'MANA'];
        
        function generateData() {
            return coins.map((coin, idx) => {
                const growth = (Math.random() * 80 - 20).toFixed(2);
                const volatility = (Math.random() * 40 + 10).toFixed(2);
                const vsBTC = (Math.random() * 60 - 30).toFixed(2);
                const vigintile = Math.floor(Math.random() * 20) + 1;
                const score = (Math.random() * 100).toFixed(1);
                
                return {
                    rank: idx + 1,
                    coin: coin,
                    growth: parseFloat(growth),
                    volatility: parseFloat(volatility),
                    vsBTC: parseFloat(vsBTC),
                    vigintile: vigintile,
                    score: parseFloat(score)
                };
            });
        }
        
        let currentData = generateData();
        
        function renderTable() {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';
            
            currentData.forEach(row => {
                const tr = document.createElement('tr');
                
                const scoreClass = row.score >= 70 ? 'score-high' : row.score >= 40 ? 'score-medium' : 'score-low';
                const growthClass = row.growth >= 0 ? 'positive' : 'negative';
                const vsBTCClass = row.vsBTC >= 0 ? 'positive' : 'negative';
                
                tr.innerHTML = `
                    <td class="rank">#${row.rank}</td>
                    <td><strong>${row.coin}</strong></td>
                    <td class="${growthClass}">${row.growth > 0 ? '+' : ''}${row.growth}%</td>
                    <td>${row.volatility}%</td>
                    <td class="${vsBTCClass}">${row.vsBTC > 0 ? '+' : ''}${row.vsBTC}%</td>
                    <td><span class="vigintile">V${row.vigintile}</span></td>
                    <td><span class="score-badge ${scoreClass}">${row.score}</span></td>
                `;
                
                tbody.appendChild(tr);
            });
        }
        
        function sortTable(colIndex) {
            const keys = ['rank', 'coin', 'growth', 'volatility', 'vsBTC', 'vigintile', 'score'];
            const key = keys[colIndex];
            
            currentData.sort((a, b) => {
                if (typeof a[key] === 'string') {
                    return a[key].localeCompare(b[key]);
                }
                return b[key] - a[key];
            });
            
            renderTable();
        }
        
        function runScreen() {
            const period = document.getElementById('period').value;
            const method = document.getElementById('method').value;
            
            // Simulate new screening
            currentData = generateData();
            renderTable();
            
            // Update stats
            const avgGrowth = (currentData.reduce((sum, d) => sum + d.growth, 0) / currentData.length).toFixed(1);
            document.getElementById('avgGrowth').textContent = (avgGrowth >= 0 ? '+' : '') + avgGrowth + '%';
            document.getElementById('avgGrowth').className = avgGrowth >= 0 ? 'stat-value positive' : 'stat-value negative';
            
            const methodNames = {rank: 'Simple Ranking', vigintile: 'Vigintiles', combo: 'Combo Vigintiles'};
            document.getElementById('currentMethod').textContent = methodNames[method];
            
            alert(`Screen completed for ${period} day lookback period using ${methodNames[method]} method`);
        }
        
        function exportData() {
            let csv = 'Rank,Coin,30D Growth %,Volatility %,vs BTC %,Vigintile,Combined Score\n';
            
            currentData.forEach(row => {
                csv += `${row.rank},${row.coin},${row.growth},${row.volatility},${row.vsBTC},${row.vigintile},${row.score}\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `crypto_screen_${new Date().toISOString().split('T')[0]}.csv`;
            a.click();
        }
        
        // Initial render
        renderTable();
    </script>
</body>
</html>
